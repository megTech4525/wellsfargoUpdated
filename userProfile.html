<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WELLS FARGO(Profile)</title>
    <link rel="stylesheet" href="./CSS/userProfile.css">
    <link rel="stylesheet" href="./CSS/settings.css">
    <!-- <link rel="stylesheet" href="./CSS/transaction.css" type="text/css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==
    " crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="header">
        <div class="logos">
         <!-- <img class="logo-png" src="./IMG/F.png" alt=""> -->
         <h1 class="logo-text">WellsFargo Banking</h1>
        </div>
         <!-- <div class="img" id="bottom-pics-2">
             <label for="upload">
                 <img src="./IMG/profile-avatar.png" alt="click to upload" id="Profile-image" class="class-pics">
                 <input type="file" accept="image/jpeg, image/jpg, image/png" id="upload">
             </label>
             <div class="img-text">
                 <h3 class="client-name">Alexander Joshua</h3>
             </div>
         </div> -->
     </div>
    <div class="main-containers">
        <header>
            <nav class="nav-link">
                <div class="main-containers">
                    <div class="sidecontainer">
                        <div class="img"  id="bottom-pics">
                            <label for="upload">
                                <img src="./IMG/profile-avatar.png" alt="click to upload" id="Profile-image2">
                                <input type="file" accept="image/jpeg, image/jpg, image/png" id="upload">
                            </label>
                            <div class="img-text">
                                <h3 class="client-name" id="client-id"></h3>
                            </div>
                        </div><br>
                <li class="header-list">
                    <a class="head-link" href="./home.html"><i class="fa fa-home" aria-hidden="true"></i>      <span class="link-name">Home</span></a>
                </li><br>
    
                <li class="header-list">
                    <a class="head-link" href="#"><i class="fa fa-user-circle" aria-hidden="true"></i> <span class="link-name">User <span class="profile">Profile</span></span></a>
                </li><br>
    
                <li class="header-list" id="removal">
                    <a class="head-link" href="#"><i class="fa fa-bell" aria-hidden="true"></i><span class="link-name">Notifications</span></a>
                </li><br>
    
                <li class="header-list" id="removal">
                    <a class="head-link" href="#"><i class="fa fa-phone" aria-hidden="true"></i><span class="link-name">Customer <span class="profile">Care</span></span></a>
                </li><br>
    
                <li class="header-list">
                    <a class="head-link" href="./Transaction.html" id="transfer"><i class="fa fa-download"></i><span class="link-name">Transactions</span></a>
                </li><br>
    
                <li class="header-list">
                    <a class="head-link" href="./settings.html" id="transfer"><i class="fa fa-sliders" aria-hidden="true"></i><span class="link-name">Setting</span></a>
                </li><br>
                
                <li class="header-list" id="removal">
                    <a class="head-link" href="#"><i class="fa fa-refresh" aria-hidden="true"></i><span class="link-name">Refresh</span></a>
                </li><br> 
                </nav>
        </header>
       
        <!-- User Profile Section -->
         <section class="user-profile">
            <div class="dashboard-user">
                <div class="user-description">
                    <div class="img">
                        <div class="Edit">
                                <a id="Edit" href="index.html">Edit details</a>
                        </div>
                        <label for="upload">
                            <img src="./IMG/user-PROFILE (1).png" alt="click to upload" id="Profile-image">
                            <input type="file" accept="image/jpeg, image/jpg, image/png" id="upload">
                        </label><br>
                        <div class="img-text">
                            <h3 class="client-name" id="client-id2"></h3>
                        </div>
                    </div>
        
                    <table id="userProfileDiv">
                        <tbody>
                            <tr>
                                <td>Full Name:</td>
                                <td id="fullName"></td>
                            </tr>
                            <tr>
                                <td>Email:</td>
                                <td id="email"></td>
                            </tr>
                            <tr>
                                <td>Phone(+1):</td>
                                <td id="phone"></td>
                            </tr>
                            
                            <tr>
                                <td>Address:</td>
                                <td id="address"></td>
                            </tr>
                            <tr>
                                <td>Postal Code:</td>
                                <td id="postalCode"></td>
                            </tr>
                        </tbody>
                    </table>
                <!-- <span id="account-number">3526384726</span> -->
        <!-- 
                <span id="routing-number">
                    <h3>Routing Number</h3>
                    <span id="routing-id">12364726</span>
                </span> -->
            </div>
        
            <div class="support">
                <img src="./IMG/24-hours-support.png">
               </div>
             
           </div>
         </section>
        
    </div> 
    <script type="module" src="./JS/settings.js"></script>
    <script type="module" src="./JS/index.js"></script>
    <script type="module" src="./JS/script.js"></script>
    


    <!-- <script>
        document.addEventListener("DOMContentLoaded", () => {
    const savedTheme = localStorage.getItem("theme") || "light";
    setTheme(savedTheme);
        })
    </script>
     -->
     <script>
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
import { getAuth } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";

// Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyCj2R-rkYViWqghPkIKy7qk0nKQTEk9UMo",
    authDomain: "login-form-e0f85.firebaseapp.com",
    projectId: "login-form-e0f85",
    storageBucket: "login-form-e0f85.firebasestorage.app",
    messagingSenderId: "553640742535",
    appId: "1:553640742535:web:4b8d0f645870bdf1feb222"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth();
const db = getFirestore();

// Get the user UID from localStorage (this assumes the user is logged in)
const userId = localStorage.getItem('loggedInUserId');

if (userId) {
    // Fetch the user data from Firestore
    const docRef = doc(db, "users", userId);
    getDoc(docRef)
        .then((docSnapshot) => {
            if (docSnapshot.exists()) {
                const userData = docSnapshot.data();
                displayUserProfile(userData);
            } else {
                console.log("No user data found!");
                document.getElementById('userProfileDiv').innerHTML = "No user data found.";
            }
        })
        .catch((error) => {
            console.error("Error fetching user data: ", error);
            document.getElementById('userProfileDiv').innerHTML = "Error loading profile data.";
        });
} else {
    // If the user is not logged in, show a message
    document.getElementById('userProfileDiv').innerHTML = "Please log in to view your profile.";
}

// Function to display the user profile data in the div
function displayUserProfile(userData) {
    const userProfileDiv = document.getElementById('userProfileDiv');
    const profileHTML = `
        <h2>Welcome, ${userData.firstName} ${userData.lastName}</h2>
        <p><strong>Email:</strong> ${userData.email}</p>
        <p><strong>Phone Number:</strong> ${userData.mobileNumber}</p>
        <p><strong>Address:</strong> ${userData.address}</p>
        <p><strong>Postal Code:</strong> ${userData.postalCode}</p>
    `;
    userProfileDiv.innerHTML = profileHTML;
}

     </script>
      
</body>

</html>